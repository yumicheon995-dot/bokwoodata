<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>카드 매출 기반 유동화</title>

  <!-- ① 뷰포트: PC 1200px 디자인을 모바일에 자동 축소(스크롤 정상) -->
  <meta id="vp" name="viewport" content="width=1200, initial-scale=1" />

  <!-- ② 기본 폰트/스타일 -->
  <style>
    :root{
      --red:#d50000;
      --yellow:#ffcc00;
      --ink:#0b2540;
      --base:1200px; /* PC 기준폭 */
    }
    html,body{margin:0;padding:0;}
    body{
      font-family:'Noto Sans KR', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color:var(--ink);
      line-height:1.6;
      -webkit-text-size-adjust:100%;
      letter-spacing:.01em; /* 모바일에서 ‘즉시/무료’ 뭉개짐 방지 */
      background:#f6fbff;
    }

    /* 레이아웃 — PC 1200 기준 유지 */
    .wrap{ width:var(--base); margin:0 auto; background:#fff; }
    section{ padding:48px 28px; }
    .container{ max-width:1100px; margin:0 auto; }

    /* 히어로 */
    .hero{ background:var(--red); color:#fff; padding:64px 28px 48px; }
    .hero h1{ font-size:40px; margin:0 0 12px; line-height:1.25; }
    .hero p.sub{ font-size:18px; opacity:.95; margin:0 0 22px; }
    .btn{
      display:inline-block; background:var(--yellow); color:#000; font-weight:800;
      padding:14px 24px; border-radius:10px; text-decoration:none; letter-spacing:.02em;
    }
    .btn.black{ background:#000; color:#fff; }

    /* 3열 특징 */
    .grid3{ display:grid; grid-template-columns:repeat(3, 1fr); gap:18px; }
    .card{ background:#fff; border:1px solid #eaeaea; border-radius:14px; padding:20px; box-shadow:0 2px 10px rgba(0,0,0,.04);}
    .card h3{ margin:0 0 8px; font-size:20px; }

    /* 리스트 체크 */
    .check li{ margin:6px 0; }

    /* 폼 */
    .form{ max-width:560px; margin:20px auto 0; display:grid; gap:12px; }
    .form input,.form textarea{
      width:100%; padding:12px 14px; font-size:16px;
      border:1px solid #dcdcdc; border-radius:10px; outline:none;
    }
    .form input:focus,.form textarea:focus{ border-color:#999; }
    .muted{ font-size:13px; color:#586a82; }

    /* 푸터 */
    footer{ padding:28px; text-align:center; color:#6c7a89; font-size:13px; }

    /* 안전: 혹시 떠다니는 오버레이가 스크롤 막으면 pointer-events로 비활성화 필요
       .floating{ pointer-events:none; } // 필요시 해당 요소에 이것을 추가해줘 */
  </style>

  <!-- ③ 모바일에서 자동 축소 스케일 계산(PC에선 1배) -->
  <script>
    (function(){
      var BASE = 1200; // PC 기준폭
      function applyScale(){
        var w = Math.min(window.innerWidth, screen.width || window.innerWidth);
        var scale = w < BASE ? (w / BASE) : 1;
        var vp = document.querySelector('meta#vp');
        vp.setAttribute('content',
          'width=' + BASE +
          ', initial-scale=' + scale.toFixed(3) +
          ', minimum-scale=' + scale.toFixed(3) +
          ', maximum-scale=' + scale.toFixed(3) +
          ', user-scalable=no'
        );
      }
      window.addEventListener('load', applyScale);
      window.addEventListener('resize', applyScale);
      applyScale();
    })();
  </script>
</head>
<body>
  <div class="wrap">

    <!-- 히어로 -->
    <header class="hero">
      <div class="container">
        <h1>카드 매출로 <br>대출 말고 투자받으세요</h1>
        <p class="sub">금융사 대출도 막혔다구요?<br>사업자 대출이 안된다구요?</p>
        <a href="#lead" class="btn" id="goForm">무료로 상담신청하기</a>
        &nbsp;&nbsp;
        <a href="tel:01071363205" class="btn black">전화로 바로 연결</a>
      </div>
    </header>

    <!-- 핵심 포인트 -->
    <section>
      <div class="container">
        <div class="grid3">
          <div class="card"><h3>빠른 심사</h3><p>카드 매출 데이터 기반으로 신속 검토</p></div>
          <div class="card"><h3>담보 부담↓</h3><p>보증·담보 부담 최소화</p></div>
          <div class="card"><h3>현금흐름 개선</h3><p>운전자금 확보로 매출 선순환</p></div>
        </div>
      </div>
    </section>

    <!-- 자주 받는 질문(샘플) -->
    <section>
      <div class="container">
        <h2>자주 묻는 질문</h2>
        <ul class="check">
          <li>대출 거절 이력이 있어도 가능한가요? → 네, 카드 매출 중심으로 심사합니다.</li>
          <li>필요 서류는? → 사업자등록증, 카드사 매출내역(간편 전송) 등.</li>
          <li>심사 소요시간? → 접수 후 보통 당·익일 내 회신.</li>
        </ul>
      </div>
    </section>

    <!-- 상담 신청 폼 -->
    <section id="lead">
      <div class="container">
        <h2>무료 상담 신청</h2>
        <form class="form" id="leadForm" autocomplete="on">
          <input name="name" placeholder="이름" required />
          <input name="phone" placeholder="전화번호(숫자만)" inputmode="numeric" required />
          <textarea name="message" placeholder="요청사항(선택)"></textarea>
          <button class="btn black" type="submit" id="submitBtn">무료로 상담신청하기</button>
          <div class="muted">제출 즉시 관리자에게 문자·이메일이 동시에 전송됩니다.</div>
        </form>
      </div>
    </section>

    <footer>ⓒ 예가 카드매출 유동화</footer>
  </div>

  <!-- ④ 폼 제출: 네가 준 구글 Apps Script 웹앱으로 전송 -->
  <script>
    // ★★★ 여기에 네 웹앱 URL을 그대로 넣어 둠(네가 준 주소) ★★★
    const WEBAPP_URL = "https://script.google.com/macros/s/AKfycbxIAe7FEfHvsXPyomgNvr32rHm9htUscoenP2P_JgaKaAtCtOEKcmc5fislLEMrUsBu/exec";

    // 스무스 스크롤(히어로 버튼 클릭 시)
    document.getElementById('goForm')?.addEventListener('click', function(e){
      e.preventDefault();
      document.getElementById('lead')?.scrollIntoView({behavior:'smooth'});
    });

    // 숫자만 추출
    function onlyDigits(s){ return (s||"").replace(/[^0-9]/g,""); }

    // 한국번호를 E.164(+82)로
    function toE164KR(phone){
      let p = onlyDigits(phone);
      if(!p) return "";
      // 01012345678 -> +821012345678
      if(p.startsWith("0")) p = p.substring(1);
      return "+82" + p;
    }

    // 폼 핸들러
    const form = document.getElementById('leadForm');
    const btn  = document.getElementById('submitBtn');

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      btn.disabled = true; btn.textContent = "전송 중…";

      const fd = new FormData(form);
      const payload = {
        name: (fd.get('name')||"").toString().trim(),
        phone_raw: onlyDigits(fd.get('phone')),
        phone_e164: toE164KR(fd.get('phone')),
        message: (fd.get('message')||"").toString().trim(),
        source: location.href,
        ts: new Date().toISOString()
      };

      try{
        const r = await fetch(WEBAPP_URL, {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify(payload),
          // Apps Script는 기본적으로 CORS OK지만, 만약 안 되면 서버쪽에 Access-Control-Allow-Origin 추가 필요
        });

        // 응답이 JSON이면 파싱, 아니면 성공 가정(no-cors 대비)
        let ok = r.ok, info = "";
        try{ const j = await r.json(); ok = j.ok ?? r.ok; info = j.info || ""; }catch(_){}
        if(ok){
          alert('접수 완료! 곧 연락드릴게요.');
          form.reset();
        }else{
          alert('전송 오류가 있어. 잠시 후 다시 시도해줘.\n' + info);
        }
      }catch(err){
        alert('네트워크 오류: ' + (err&&err.message?err.message:err));
      }finally{
        btn.disabled = false; btn.textContent = "무료로 상담신청하기";
      }
    });
  </script>
</body>
</html>
